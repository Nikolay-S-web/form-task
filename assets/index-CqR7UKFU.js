(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const T of o.addedNodes)T.tagName==="LINK"&&T.rel==="modulepreload"&&i(T)}).observe(document,{childList:!0,subtree:!0});function n(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(s){if(s.ep)return;s.ep=!0;const o=n(s);fetch(s.href,o)}})();const v=document.getElementById("form"),se=document.querySelector(".form__reset"),F=document.getElementById("submit-button"),G=document.querySelector(".form__notice"),d=document.getElementById("name"),L=()=>d.value,re=d.closest(".form-item"),q=re.querySelector(".form-item__error"),oe=/^[a-zA-Zа-яА-Я0-9]+$/,u=document.getElementById("email"),f=()=>u.value.trim(),ne=u.closest(".form-item"),h=ne.querySelector(".form-item__error"),l=document.getElementById("password"),m=()=>l.value,ie=l.closest(".form-item"),R=l.closest(".form-password-set"),c=ie.querySelector(".form-item__error"),r=document.getElementById("password-repeat"),D=()=>r.value,ae=r.closest(".form-item"),_=r.closest(".form-password-set"),S=ae.querySelector(".form-item__error");document.querySelectorAll(".form-password-set");const ce=document.querySelectorAll(".form-password-set__button"),p=document.getElementById("terms"),le=()=>p.checked,de=p.closest(".form-item"),J=de.querySelector(".form-item__error"),w=document.querySelector(".success"),ue=document.querySelector(".usser-info--name"),me=document.querySelector(".usser-info--email"),Q=document.querySelector(".usser-info--password"),Z=document.querySelector(".usser-info--password-difficulty"),I=document.querySelector(".success__button--show-password"),fe=document.querySelector(".success__button--repeat");function ve(e){let t=e.getAttribute("type")=="password"?"text":"password";e.setAttribute("type",t)}function b(e){e.setAttribute("type","password")}function pe(e){e.addEventListener("click",t=>{t.preventDefault();const n=e.closest(".form-password-set"),i=n.querySelector(".input--password");ve(i),n.addEventListener("mouseleave",()=>{b(i)})})}ce.forEach(pe);function A(e){d.classList.add("error"),q.innerText=e,q.classList.add("active")}function B(){d.classList.remove("error"),q.classList.remove("active")}function P(){return L()==""?(A("Введите имя пользователя!"),!1):L().length<4?(A("Имя должно содержать не менее 4х символов!"),!1):oe.test(L())?(B(),!0):(A("Только буквы и цифры!"),!1)}d.addEventListener("click",()=>{B()});let M;d.addEventListener("input",()=>{if(L().length<4){let t=function(){clearTimeout(M),M=setTimeout(()=>{P()},2e3)};var e=t;t()}else P()});d.addEventListener("blur",P);function C(e){u.classList.add("error"),h.innerText=e,h.classList.add("active")}function $(){u.classList.remove("error"),h.classList.remove("active")}function Le(){const e=f().indexOf("@"),t=f().lastIndexOf(".");return e<=0||t<e+2||t===f().length-1?(u.classList.add("error"),h.innerText="Введен некоректный email!",h.classList.add("active"),!1):!0}function W(){if(f()){if(f().length<4)return C("Введен некоректный email!"),!1;if(!Le())return C("Введен некоректный email!"),!1}else return C("Email обязателен!"),!1;return $(),!0}u.addEventListener("click",()=>{$()});u.addEventListener("blur",W);function H(e){_.classList.add("error"),S.innerText=e,S.classList.add("active")}function g(){S.classList.remove("active"),_.classList.remove("error")}function _e(){r.setAttribute("disabled",""),_.classList.add("disabled"),_.classList.remove("error"),S.classList.remove("active"),r.placeholder="Сначала введите пароль",r.value=""}function we(){r.removeAttribute("disabled"),_.classList.remove("disabled"),r.placeholder="Повторите пароль"}function E(e=!1){if(e){we();return}_e()}let K;function N(){return D()?D()!==m()?(H("Пароли не совпадают!"),!1):(g(),!0):(H("Повторите пароль!"),!1)}r.addEventListener("focus",()=>{g()});r.addEventListener("input",()=>{g();function e(){clearTimeout(K),K=setTimeout(()=>{N()},2e3)}e()});r.addEventListener("blur",()=>{b(r),N()});let a;function U(e){R.classList.add("error"),c.innerText=e,c.style.color="red",c.classList.add("active")}function k(){R.classList.remove("error"),c.classList.remove("active")}function X(e){const t=/^(?=.*[a-z])(?=.*[A-Z])(?=.*[а-я])(?=.*[А-Я])(?=.*\d)(?=.*[_@$!%*?&#^()-+]).{10,}$/,n=/^(?=.*[a-zа-яё])(?=.*[A-ZА-ЯЁ])(?=.*\d)(?=.*[_@$!%*?&#^()-+]).{10,}$/,i=/^(?=.*[a-zа-яё])(?=.*[A-ZА-ЯЁ])(?=.*\d)(?=.*[_@$!%*?&#^()-+]).{8,}$/,s=/^(?=.*[a-zа-яё])(?=.*[A-ZА-ЯЁ])(?=.*\d).{8,}$/;return t.test(e)?4:n.test(e)?3:i.test(e)?2:s.test(e)?1:0}function Y(e){let t;switch(e){case 4:t="Отличный пароль";break;case 3:t="Надёжный пароль";break;case 2:t="Средняя надежность пароля";break;case 1:t="Низкая надежность пароля";break;case 0:t="Ненадёжный пароль";break}return t}function ee(e){let t;switch(e){case 4:t="green";break;case 3:t="green";break;case 2:t="orange";break;case 1:t="rgb(255, 80, 80)";break;case 0:t="rgb(220 48 48)";break}return t}function ye(e){c.classList.add("notice");let t=Y(e),n=ee(e);c.style.color=n,console.log("one"),c.innerText=t}function Ee(){c.classList.remove("notice")}function O(){if(m()==="")return U("Пароль обязателен!"),a=!1,E(a),!1;if(m().length<8)return U("Пароль должен быть не менее 8 символов!"),a=!1,E(a),!1;k();const e=m(),t=X(e);return ye(t),a=!0,E(a),!0}l.addEventListener("focus",()=>{k()});let j;l.addEventListener("input",()=>{k(),g(),c.classList.remove("notice"),!m()||m().length<8?a=!1:a=!0,E(a);function e(){clearTimeout(j),j=setTimeout(()=>{O()},2e3)}e()});l.addEventListener("blur",()=>{b(l),O()});function he(){p.classList.add("error"),J.classList.add("active")}function V(){p.classList.remove("error"),J.classList.remove("active")}function be(){return le()?(V(),!0):(he(),!1)}p.addEventListener("mouseover",V);function z(){B(),$(),k(),g(),V(),E(),Ee()}function te(){d.value="",u.value="",l.value="",r.value="",p.checked=!1}function ge(){v.classList.add("active"),v.classList.remove("hidden"),w.classList.add("hidden"),w.classList.remove("active")}function Fe(){w.classList.remove("active"),setTimeout(()=>{w.classList.add("hidden"),v.classList.remove("hidden"),v.classList.add("active")},500)}function Se(){v.classList.remove("active"),setTimeout(()=>{v.classList.add("hidden"),w.classList.remove("hidden"),w.classList.add("active")},500)}function Pe(){ue.textContent=L(),me.textContent=f();const e=m();Q.value=e;const t=X(e);Z.textContent=Y(t),Z.style.color=ee(t)}function xe(){Pe(),Se()}document.addEventListener("DOMContentLoaded",()=>{z(),te(),ge()});function ke(){const e=I.textContent=="показать пароль"?"скрыть пароль":"показать пароль";I.textContent=e}fe.addEventListener("click",()=>{te(),z(),Fe()});function Te(e){let t=e.getAttribute("type")=="password"?"text":"password";e.setAttribute("type",t)}I.addEventListener("click",()=>{Te(Q),ke()});function y(e){e.classList.remove("error")}function Ae(){L()||y(d),f()||y(u),m()||y(R),D()||y(_),y(p)}function Ce(){G.classList.add("active")}function qe(){G.classList.remove("active")}function De(){const e=P(),t=W(),n=O(),i=N(),s=be();return e&t&n&i&s?(F.classList.add("is_valid"),!0):(F.classList.remove("is_valid"),!1)}function Ie(){b(l),b(r)}se.addEventListener("click",()=>{Ie(),z()});let x;F.addEventListener("mouseover",()=>{x=De(),x||Ce()});F.addEventListener("mouseleave",()=>{x||(Ae(),qe())});function Re(e){e.preventDefault(),x&&xe()}v.addEventListener("submit",Re);
